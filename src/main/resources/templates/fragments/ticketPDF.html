<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title th:text="'Ticket ' + ${ticket.ticketNumber}">Ticket</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 12px;
        }

        .logo {
            width: 80px;
            height: auto;
        }

        .info-table,
        .grid-table,
        .footer-table {
            width: 100%;
            border: 1px solid black;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        .info-table td,
        .grid-table td,
        .footer-table td {
            vertical-align: top;
            padding: 8px;
        }

        .footer-barcode {
            width: 35%;
            text-align: center;
        }

        .notice-icon {
            width: 24px;
            height: 24px;
            vertical-align: middle;
        }

        .notice-text {
            margin-left: 4px;
            font-size: 0.9em;
            text-align: justify;
        }

        .barcode-label {
            font-weight: bold;
            margin-bottom: 4px;
        }

        .barcode-number {
            font-size: 0.8em;
            margin-top: 4px;
        }

        .ticket-number {
            width: 50%;
            text-align: right;
        }

        dl {
            margin: 0;
        }

        dt {
            margin-top: 8px;
            margin-bottom: 2px;
        }

        dd {
            margin: 0 0 6px 0;
        }

    </style>
</head>
<body>

<!-- TOP SECTION -->
<table class="info-table">
    <tr>
        <!-- Left side: logo and app name -->
        <td style="width: 50%;">
            <img th:src="'data:image/png;base64,' + ${logoBase64}" alt="Logo" class="logo" />
        </td>

        <!-- Right side: ticket number and company info -->
        <td class="ticket-number">
            <div><strong>Ticket Number:</strong> <span th:text="${ticket.ticketNumber}"></span></div>
            <div><strong>Issued by:</strong> VistaSeat Systems</div>
            <div><strong>www.vistaseat.com</strong></div>
        </td>
    </tr>
</table>

<!-- MIDDLE SECTION: 3 COLUMNS -->
<table class="grid-table">
    <tr>
        <!-- Column 1 -->
        <td style="width: 33%;">
            <dl>
                <dt>Full Name:</dt>
                <dd><strong th:text="${ticket.holderFullName}">John Doe</strong></dd>

                <dt>Event:</dt>
                <dd><strong th:text="${ticket.eventName}">Concert Night</strong></dd>

                <dt>Date:</dt>
                <dd><strong th:text="${#temporals.format(ticket.eventDateTime, 'dd - MM - yyyy / HH:mm')}">07 - 12 - 2024 / 21:00</strong></dd>
            </dl>
        </td>

        <!-- Column 2 -->
        <td style="width: 33%;">
            <dl>
                <dt>Email:</dt>
                <dd><strong th:text="${ticket.holderEmail}">john@example.com</strong></dd>

                <dt>Price:</dt>
                <dd><strong th:text="${'€' + ticket.ticketPrice}">€25.00</strong></dd>

                <dt>Venue:</dt>
                <dd><strong th:text="${ticket.venueName}">Grand Hall</strong></dd>
            </dl>
        </td>

        <!-- Column 3 -->
        <td style="width: 33%;">
            <dl>
                <dt>Booking Number:</dt>
                <dd><strong th:text="${ticket.bookingId}">12345</strong></dd>

                <dt>Seat Number:</dt>
                <dd><strong>N/A</strong></dd>

                <dt>Vendor:</dt>
                <dd><strong>Vistaseat.com</strong></dd>
            </dl>
        </td>
    </tr>
</table>


<!-- BOTTOM SECTION: Barcode + Notice -->
<table class="footer-table">
    <tr>
        <!-- Left: barcode image + label -->
        <td class="footer-barcode">
            <div class="barcode-label">SCAN HERE E-TICKET BARCODE</div>
            <img th:src="'data:image/png;base64,' + ${barcodeBase64}" alt="barcode" style="width: 100px; height: auto;" />
            <div class="barcode-number"><span th:text="${ticket.barcode}"></span></div>
        </td>

        <!-- Right: notice section -->
        <td style="width: 65%;">
            <div>
                <img class="notice-icon" th:src="'data:image/png;base64,' + ${noticeIconBase64}" alt="Notice" />
                <span><strong>Important Notice:</strong></span>
                <p class="notice-text" style="text-align: justify">
                    Please arrive at the venue at least 30 minutes before showtime.
                        Bring a valid ID and either your printed tickets or mobile tickets on your phone.
                        Late arrivals may not be seated until intermission.
                        Photography, audio recording, and video recording are prohibited.
                        Mobile phones must be turned off.
                </p>
            </div>
        </td>
    </tr>
</table>

</body>
</html>
